# OzonTestTask
Тестовое задание на стажировку Ozon

# Описание задачи

Необходимо реализовать сервис, который должен предоставлять API по созданию сокращенных ссылок следующего формата:
- Ссылка должна быть уникальной и на один оригинальный URL должна ссылаться только одна сокращенная ссылка.
- Ссылка должна быть длинной 10 символов
- Ссылка должна состоять из символов латинского алфавита в нижнем и верхнем регистре, цифр и символа _ (подчеркивание)


Сервис должен быть написан на Go и принимать следующие запросы по http:
1. Метод Post, который будет сохранять оригинальный URL в базе и возвращать сокращённый
2. Метод Get, который будет принимать сокращённый URL и возвращать оригинальный URL

Сделать работу сервиса через GRPC, то есть составить proto и реализовать сервис с двумя соответствующими эндпойнтами

Решение должно быть предоставлено в «конечном виде», а именно:
- Сервис должен быть распространён в виде Docker-образа
- В качестве хранилища ожидается использовать in-memory решение И postgresql. Какое хранилище использовать указывается параметром при запуске сервиса.
- Покрыть реализованный функционал Unit-тестами

# API

Сервис предоставляет 2 эндпойнта:
1. **SaveURL: POST host:url/save**. Принимает на вход json вида:
```json
{
    "longURL": "url"
}
Возвращает json с новым сокращенным url.
```
2. **GetURL: GET host:url**. Принимает на вход json вида:
```json
{
    "shortURL": "url"
}
```
Возвращает json с связанным длинным url.

gRPC предоставляет аналогичные методы.

# Запуск сервиса

Проект собирается внутри docker. Используются 3 контейнера:
1. Сам сервис
2. База данных PostgreSQL
3. Приложение, накатывающее миграции на БД

Для быстрого запуска проекта можно использовать команду:
```bash
docker-compose up
```

Можно использовать im-memory хранилище, если дописать в Dockerfile в строчке
```Dockerfile
RUN go build -o bin ./cmd/app
```
ключ --memory.